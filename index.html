<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>–ü—Ä–∏–∑–Ω–∞–Ω–∏–µ ¬∑ –Ω–æ–≤—ã–µ —Ñ—Ä–∞–∑—ã</title>
  <link href="https://fonts.googleapis.com/css2?family=Bad+Script&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      overflow: hidden;
      background: #0a0a0a;
      height: 100vh;
      width: 100vw;
      font-family: 'Bad Script', cursive; 
    }

    .start-btn {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 100;
      background: transparent;
      border: 2px solid #ff69b4;
      border-radius: 60px;
      padding: 18px 40px;
      color: #ff69b4;
      font-size: 2.5rem;
      font-weight: 400;
      letter-spacing: 2px;
      cursor: pointer;
      box-shadow: 0 0 30px #ff69b4;
      backdrop-filter: blur(4px);
      transition: opacity 1s ease, box-shadow 0.3s;
      white-space: nowrap;
    }

    .start-btn:hover {
      box-shadow: 0 0 50px #ff1493;
      color: #ff1493;
      border-color: #ff1493;
    }

    .start-btn.hidden {
      opacity: 0;
      pointer-events: none;
    }

    .music-control {
      position: absolute;
      bottom: 30px;
      right: 30px;
      z-index: 200;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: rgba(255, 105, 180, 0.2);
      border: 2px solid #ff69b4;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      cursor: pointer;
      backdrop-filter: blur(4px);
      box-shadow: 0 0 20px #ff69b4;
      transition: 0.3s;
      opacity: 0;
      pointer-events: none;
    }

    .music-control.visible {
      opacity: 1;
      pointer-events: auto;
    }

    .music-control:hover {
      background: #ff69b4;
      color: #0a0a0a;
      box-shadow: 0 0 40px #ff1493;
    }

    .text-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      pointer-events: none;
      z-index: 50;
      padding: 20px;
    }

    .typing-text {
      color: #ffffff;
      font-family: 'Bad Script', cursive;
      font-size: 2rem;
      font-weight: 400;
      font-style: normal;
      text-align: center;
      text-shadow: 0 0 30px #ff69b4, 0 0 60px #ff3366;
      max-width: 1300px;
      width: 100%;
      line-height: 1.7;
      word-wrap: break-word;
      white-space: pre-wrap;
      margin: 0 auto;
      letter-spacing: normal;
      pointer-events: none;
      transition: opacity 0.2s;
      user-select: none;
    }

    .typing-text.clickable {
      pointer-events: auto;
      cursor: pointer;
    }

    .hint {
      position: absolute;
      bottom: 100px;
      left: 0;
      width: 100%;
      text-align: center;
      color: rgba(255, 105, 180, 0.7);
      font-size: 1.2rem;
      font-family: 'Bad Script', cursive;
      text-shadow: 0 0 10px #ff69b4;
      letter-spacing: 2px;
      z-index: 60;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.8s;
      white-space: nowrap;
    }

    .hint.visible {
      opacity: 1;
    }

    @media (max-width: 768px) {
      .start-btn {
        font-size: 2rem;
        padding: 15px 30px;
      }
      .typing-text {
        font-size: 1.5rem;
      }
      .music-control {
        width: 55px;
        height: 55px;
        font-size: 1.8rem;
        bottom: 20px;
        right: 20px;
      }
      .hint {
        font-size: 1rem;
        bottom: 80px;
      }
    }

    @media (max-width: 480px) {
      .typing-text {
        font-size: 1.1rem;
        line-height: 1.6;
      }
      .start-btn {
        font-size: 1.6rem;
        padding: 12px 24px;
      }
      .hint {
        font-size: 0.9rem;
        bottom: 70px;
      }
    }

    .heart {
      position: absolute;
      bottom: -80px;
      background-repeat: no-repeat;
      background-size: contain;
      animation: floatUp linear forwards;
      opacity: 0.6;
      filter: drop-shadow(0 0 15px rgba(255, 0, 0, 0.8));
      z-index: 1;
    }

    @keyframes floatUp {
      0% {
        transform: translateY(0) scale(1);
        opacity: 0.6;
      }
      100% {
        transform: translateY(-120vh) scale(1.4);
        opacity: 0;
      }
    }
  </style>
</head>
<body>

  <button class="start-btn" id="startBtn">üíñ –í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É üíñ</button>
  <div class="music-control" id="musicControl">üîä</div>
  <div class="text-container" id="textContainer"></div>
  <div class="hint" id="hint">üëÜ –Ω–∞–∂–º–∏ –Ω–∞ —Ç–µ–∫—Å—Ç, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å</div>

  <audio id="bgMusic" loop preload="auto">
    <source src="–†–µ–Ω–∞—Ç_–ì–∞–π—Å–∏–Ω_–°“Ø–π–µ–º—ñ–Ω_OST_–∫_—Ñ–∏–ª—å–º—É_–ë—Ä–∞—Ç_–∏–ª–∏_–ë—Ä–∞–∫_.m4a" type="audio/mpeg">
  </audio>

  <script>
    (function() {
      // –ù–û–í–´–ï –§–†–ê–ó–´ (–∫–∞–∂–¥–∞—è –æ—Ç–¥–µ–ª—å–Ω–æ, –∫–∞–∫ –≤ –∑–∞–¥–∞–Ω–∏–∏)
      const phrases = [
        "–ó–Ω–∞–µ—à—å, —Ç—ã –º–Ω–µ –±–µ–∑—É–º–Ω–æ –Ω—Ä–∞–≤–∏—à—å—Å—è.",
        "–¢—ã –±—É–¥—Ç–æ –ø–æ—è–≤–ª—è–µ—à—å—Å—è –≤ –º–æ–∏—Ö –º—ã—Å–ª—è—Ö –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–∞–∫ —Ç–æ–ª—å–∫–æ —è –∑–∞–∫—Ä—ã–≤–∞—é –≥–ª–∞–∑–∞.",
        "–ö–∞–∂–µ—Ç—Å—è, —è –≤–ª—é–±–∏–ª—Å—è –≤ —Ç–µ–±—è —Å –ø–µ—Ä–≤–æ–≥–æ –≤–∑–≥–ª—è–¥–∞ ‚Äî —Ç–æ–≥–¥–∞ —è —Å—Ä–∞–∑—É –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª, —á—Ç–æ —Ç—ã –æ—Å–æ–±–µ–Ω–Ω–∞—è.",
        "–° —Ç–µ—Ö –ø–æ—Ä –∫–∞–∂–¥–∞—è –≤—Å—Ç—Ä–µ—á–∞ —Å —Ç–æ–±–æ–π –æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ—â—É—â–µ–Ω–∏–µ, —á—Ç–æ –º–∏—Ä —Å—Ç–∞–ª —è—Ä—á–µ –∏ —Ç–µ–ø–ª–µ–µ.",
        "–Ø –ª–æ–≤–ª—é —Å–µ–±—è –Ω–∞ —Ç–æ–º, —á—Ç–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∑–∞—Å–º–∞—Ç—Ä–∏–≤–∞—é—Å—å –Ω–∞ —Ç–µ–±—è –∏ –∫–∞–∂–¥—ã–π —Ä–∞–∑ –¥—É–º–∞—é: –∫–∞–∫ –æ–¥–∏–Ω —á–µ–ª–æ–≤–µ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞—Å—Ç–æ–ª—å–∫–æ –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–º.",
        "–ò –∫–∞–∂–¥—ã–π —Ä–∞–∑ —è —É–¥–∏–≤–ª—è—é—Å—å, –∫–∞–∫ —Ç–≤–æ—è —É–ª—ã–±–∫–∞ –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å –º–æ—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.",
        "–ö–æ–≥–¥–∞ —è —Å–º–æ—Ç—Ä—é –≤ —Ç–≤–æ–∏ –≥–ª–∞–∑–∞, –±—É–¥—Ç–æ —Ç–æ–Ω—É –≤ –Ω–∏—Ö ‚Äî –æ–Ω–∏ –∑–∞–≤–æ—Ä–∞–∂–∏–≤–∞—é—Ç —Ç–∞–∫ —Å–∏–ª—å–Ω–æ, —á—Ç–æ –æ—Ç–≤–µ—Å—Ç–∏ –≤–∑–≥–ª—è–¥ –ø–æ—á—Ç–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.",
        "–ò –≤ —ç—Ç–∏—Ö –≥–ª–∞–∑–∞—Ö —è –Ω–∞—Ö–æ–∂—É —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ, —Ç–µ–ø–ª–æ –∏ —á—Ç–æ-—Ç–æ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –ø—Ä–∏—Ç—è–≥–∞—Ç–µ–ª—å–Ω–æ–µ, —á—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å —Å–ª–æ–≤–∞–º–∏.",
        "–ò –µ—Å—Ç—å –µ—â—ë —Ç–æ—Ç —Å–∞–º—ã–π –∞—Ä–æ–º–∞—Ç‚Ä¶ —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π —è —á—É–≤—Å—Ç–≤—É—é, –∫–æ–≥–¥–∞ —Ç—ã —Ä—è–¥–æ–º.",
        "–û–Ω –æ–∫—É—Ç—ã–≤–∞–µ—Ç –º–µ–Ω—è, —Å–ª–æ–≤–Ω–æ –ª—ë–≥–∫–∏–π —Å–æ–ª–Ω–µ—á–Ω—ã–π —Å–≤–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–≥—Ä–µ–≤–∞–µ—Ç –¥–∞–∂–µ –≤ —Å–∞–º—ã–π –ø–∞—Å–º—É—Ä–Ω—ã–π –¥–µ–Ω—å.",
        "–Ø –ø–æ–º–Ω—é –µ–≥–æ —Å —Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞, –∫–∞–∫ –≤–ø–µ—Ä–≤—ã–µ –æ–±–Ω—è–ª —Ç–µ–±—è, –∏ —ç—Ç–æ —á—É–≤—Å—Ç–≤–æ —è —Ç–æ—á–Ω–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–±—É–¥—É.",
        "–ö–∞–∂–¥–æ–µ –ø—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–∏–µ, –∫–∞–∂–¥—ã–π –≤–∑–≥–ª—è–¥ –∏ –∫–∞–∂–¥–æ–µ –º–≥–Ω–æ–≤–µ–Ω–∏–µ —Å —Ç–æ–±–æ–π –æ—Å—Ç–∞—é—Ç—Å—è —Å–æ –º–Ω–æ–π –Ω–∞–≤—Å–µ–≥–¥–∞, –∫–∞–∫ —Å–∞–º—ã–µ —Ü–µ–Ω–Ω—ã–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è.",
        "–ò–Ω–æ–≥–¥–∞ –º–Ω–µ –±—ã–≤–∞–µ—Ç —Ç—è–∂–µ–ª–æ, —è –ø–µ—Ä–µ–∂–∏–≤–∞—é –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Ç–µ—Ä—è—é—Å—å –≤ –º—ã—Å–ª—è—Ö.",
        "–ò –≤ —ç—Ç–∏ –º–æ–º–µ–Ω—Ç—ã —è –º–µ—á—Ç–∞—é —É—Å–ª—ã—à–∞—Ç—å —Ç–≤–æ–π –≥–æ–ª–æ—Å –∏ —É–≤–∏–¥–µ—Ç—å —Ç–≤–æ—é —É–ª—ã–±–∫—É, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –º–≥–Ω–æ–≤–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–Ω–µ —Å–∏–ª—ã.",
        "–ò –≤ —Ç–∞–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã –ø–µ—Ä–≤—ã–π —á–µ–ª–æ–≤–µ–∫, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–∫—Ä–µ–Ω–Ω–µ –≤–æ–ª–Ω—É–µ—Ç—Å—è –∑–∞ –º–µ–Ω—è ‚Äî —ç—Ç–æ —Ç—ã.",
        "–¢–≤–æ—è –∑–∞–±–æ—Ç–∞ –æ–∫—Ä—ã–ª—è–µ—Ç –º–µ–Ω—è –∏ –¥–∞—ë—Ç –ø–æ–Ω—è—Ç—å, —á—Ç–æ —è –Ω–µ –æ–¥–∏–Ω, —á—Ç–æ —Ä—è–¥–æ–º –µ—Å—Ç—å —Ç–æ—Ç, –∫—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤–∏–¥–∏—Ç –º–µ–Ω—è.",
        "–¢–≤–æ–∏ —Å–ª–æ–≤–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏, —Ç–≤–æ–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏ –∑–∞–±–æ—Ç–∞ –≤—Å–µ–≥–¥–∞ –¥–ª—è –º–µ–Ω—è –æ—á–µ–Ω—å —Ü–µ–Ω–Ω—ã, –∏ –º–Ω–µ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –ø—Ä–∏—è—Ç–Ω–æ —ç—Ç–æ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å.",
        "–Ø —Ö–æ—á—É —Ö—Ä–∞–Ω–∏—Ç—å —ç—Ç–∏ –º–æ–º–µ–Ω—Ç—ã, —Å–ª–æ–≤–Ω–æ —Å–∞–º—ã–µ –¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω—ã–µ —Å–æ–∫—Ä–æ–≤–∏—â–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∏ –¥–µ–ª–∞—é—Ç –º–µ–Ω—è —Å—á–∞—Å—Ç–ª–∏–≤—ã–º.",
        "–ù–∞–≤–µ—Ä–Ω–æ–µ, –∏–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É —Ç—ã —Å—Ç–∞–ª–∞ –¥–ª—è –º–µ–Ω—è —Ç–∞–∫–∏–º –≤–∞–∂–Ω—ã–º —á–µ–ª–æ–≤–µ–∫–æ–º.",
        "–¢—ã ‚Äî —Å–≤–µ—Ç –≤ –º–æ—ë–º –¥–Ω–µ, –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –∏ –∏—Å—Ç–æ—á–Ω–∏–∫ —Ç–µ–ø–ª–∞, –∫–æ—Ç–æ—Ä—ã–π —è —Ü–µ–Ω—é –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ.",
        "–¢—ã ‚Äî —Ç–æ—Ç, –æ –∫–æ–º —è –¥—É–º–∞—é, –Ω–∞ –∫–æ–≥–æ —Ö–æ—á—É —Ä–∞–≤–Ω—è—Ç—å—Å—è –∏ —Ä—è–¥–æ–º —Å –∫–µ–º –º–Ω–µ –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É —Ç–µ–ø–ª–æ –∏ —Å–ø–æ–∫–æ–π–Ω–æ.",
        "–° —Ç–æ–±–æ–π —è –º–æ–≥—É –±—ã—Ç—å —Å–æ–±–æ–π, –±–µ–∑ —Å—Ç—Ä–∞—Ö–∞ –∏ –ø—Ä–∏—Ç–≤–æ—Ä—Å—Ç–≤–∞, –∏ —ç—Ç–æ –æ—â—É—â–µ–Ω–∏–µ –±–µ—Å—Ü–µ–Ω–Ω–æ.",
        "–ò —è –ø—Ä–æ—Å—Ç–æ –æ—á–µ–Ω—å —Ç–µ–±—è –ª—é–±–ª—é.",
        "–õ—é–±–ª—é –≤—Å—ë –≤ —Ç–µ–±–µ ‚Äî —Ç–≤–æ—é —É–ª—ã–±–∫—É, —Ç–≤–æ–∏ –≥–ª–∞–∑–∞, —Ç–≤–æ–π –≥–æ–ª–æ—Å –∏ –∫–∞–∂–¥—ã–π –º–∞–ª–µ–Ω—å–∫–∏–π –∂–µ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç —Ç–µ–±—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–π.",
        "–°“Ø–π–µ–º—ñ–Ω —Å–µ–Ω—ñ –∂–∞–Ω—ã–º –º–µ–Ω—ñ“£üíû",
        "‚ù§–°–ø–∞—Å–∏–±–æ —á—Ç–æ —Ç—ã —É –º–µ–Ω—è –µ—Å—Ç—å‚ù§"
      ];

      const startBtn = document.getElementById('startBtn');
      const musicControl = document.getElementById('musicControl');
      const audio = document.getElementById('bgMusic');
      const textContainer = document.getElementById('textContainer');
      const hint = document.getElementById('hint');

      let isMusicPlaying = false;
      let isActive = false;
      let currentPhraseIndex = 0;
      let typingTimer = null;
      let charIndex = 0;
      let currentText = '';
      let waitingForClick = false;
      let finished = false;

      function clearTimers() {
        if (typingTimer) clearTimeout(typingTimer);
        typingTimer = null;
      }

      // –ó–∞–ø—É—Å–∫ –ø–µ—á–∞—Ç–∏ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π —Ñ—Ä–∞–∑—ã
      function startTypingPhrase(index) {
        clearTimers();
        
        if (index >= phrases.length) {
          showFinalScreen();
          return;
        }

        currentText = phrases[index];
        charIndex = 0;
        waitingForClick = false;
        
        // –°–æ–∑–¥–∞—ë–º —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –ø–µ—á–∞—Ç–∏ (–∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –Ω–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π)
        const textElement = document.createElement('div');
        textElement.className = 'typing-text';
        textContainer.innerHTML = '';
        textContainer.appendChild(textElement);

        function typeNextChar() {
          if (!isActive) return;
          
          if (charIndex < currentText.length) {
            textElement.textContent = currentText.substring(0, charIndex + 1);
            charIndex++;
            typingTimer = setTimeout(typeNextChar, 60);
          } else {
            // –ü–µ—á–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∞ ‚Äî –¥–µ–ª–∞–µ–º –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É
            textElement.classList.add('clickable');
            waitingForClick = true;
            hint.classList.add('visible');
            typingTimer = null;
          }
        }

        typeNextChar();
      }

      // –§–∏–Ω–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω (–ø–æ—Å–ª–µ –≤—Å–µ—Ö —Ñ—Ä–∞–∑)
      function showFinalScreen() {
        finished = true;
        waitingForClick = true;
        textContainer.innerHTML = `<div class="typing-text clickable">üíñ –°–ø–∞—Å–∏–±–æ, —á—Ç–æ —Ç—ã –µ—Å—Ç—å üíñ</div>`;
        hint.innerHTML = 'üëÜ –Ω–∞–∂–º–∏, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Å–Ω–∞—á–∞–ª–∞ (–º—É–∑—ã–∫–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è)';
        hint.classList.add('visible');
      }

      // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–π —Ñ—Ä–∞–∑–µ
      function goToNext() {
        if (!isActive || !waitingForClick) return;

        if (finished) {
          // –†–ï–°–¢–ê–†–¢: –Ω–∞—á–∏–Ω–∞–µ–º —Å –ø–µ—Ä–≤–æ–π —Ñ—Ä–∞–∑—ã
          finished = false;
          currentPhraseIndex = 0;
          hint.classList.remove('visible');
          startTypingPhrase(0);
          return;
        }

        // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π —Ñ—Ä–∞–∑–µ (–≤—Å–µ–≥–¥–∞ —Å –ø–µ—á–∞—Ç—å—é)
        currentPhraseIndex++;
        
        if (currentPhraseIndex < phrases.length) {
          // –°–ª–µ–¥—É—é—â–∞—è —Ñ—Ä–∞–∑–∞ –±—É–¥–µ—Ç –Ω–∞–ø–µ—á–∞—Ç–∞–Ω–∞
          hint.classList.remove('visible');
          startTypingPhrase(currentPhraseIndex);
        } else {
          // –í—Å–µ —Ñ—Ä–∞–∑—ã –Ω–∞–ø–µ—á–∞—Ç–∞–Ω—ã, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–∏–Ω–∞–ª
          showFinalScreen();
        }
      }

      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–æ–≤
      textContainer.addEventListener('click', (e) => {
        if (!e.target.classList.contains('typing-text')) return;
        if (!isActive) return;
        if (!waitingForClick) return;
        
        goToNext();
      });

      // –°—Ç–∞—Ä—Ç –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É
      function startSequence() {
        if (isActive) return;
        isActive = true;
        finished = false;
        currentPhraseIndex = 0;
        waitingForClick = false;
        hint.classList.remove('visible');
        startTypingPhrase(0);
      }

      startBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        startBtn.classList.add('hidden');
        musicControl.classList.add('visible');

        audio.play()
          .then(() => {
            isMusicPlaying = true;
            musicControl.innerHTML = 'üîä';
          })
          .catch(() => {
            musicControl.innerHTML = 'üîá';
          });

        startSequence();
      });

      musicControl.addEventListener('click', (e) => {
        e.stopPropagation();
        if (isMusicPlaying) {
          audio.pause();
          musicControl.innerHTML = 'üîá';
        } else {
          audio.play()
            .then(() => {
              musicControl.innerHTML = 'üîä';
            })
            .catch(() => {});
        }
        isMusicPlaying = !isMusicPlaying;
      });

      // –§–æ–Ω–æ–≤—ã–µ —Å–µ—Ä–¥–µ—á–∫–∏
      function createHeart() {
        const heart = document.createElement("div");
        heart.className = "heart";

        let size = window.innerWidth <= 768 ? Math.random() * 40 + 60 : Math.random() * 30 + 50;
        heart.style.width = size + "px";
        heart.style.height = size + "px";
        heart.style.left = Math.random() * window.innerWidth + "px";

        const duration = Math.random() * 3 + 4;
        heart.style.animationDuration = duration + "s";

        const colors = ["#ff0000", "#ff2222", "#ff3333", "#ff4444", "#ff1111", "#ff5555"];
        const color = colors[Math.floor(Math.random() * colors.length)];

        const svg = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="${size}" height="${size}"><path fill="${color}" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>`;
        heart.style.backgroundImage = `url('data:image/svg+xml;utf8,${encodeURIComponent(svg)}')`;

        heart.style.filter = `drop-shadow(0 0 ${window.innerWidth <= 768 ? '20px' : '15px'} ${color}) brightness(1.3)`;

        document.body.appendChild(heart);

        setTimeout(() => {
          if (heart.parentNode) heart.remove();
        }, duration * 1000);
      }

      let heartInterval = setInterval(createHeart, window.innerWidth <= 768 ? 150 : 200);

      window.addEventListener('resize', () => {
        clearInterval(heartInterval);
        heartInterval = setInterval(createHeart, window.innerWidth <= 768 ? 150 : 200);
      });

      for (let i = 0; i < 8; i++) {
        setTimeout(createHeart, i * 200);
      }
    })();
  </script>
</body>
</html>
